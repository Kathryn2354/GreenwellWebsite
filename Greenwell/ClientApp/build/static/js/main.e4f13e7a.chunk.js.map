{"version":3,"sources":["logos/upload.png","logos/search.png","components/api-authorization/ApiAuthorizationConstants.js","components/api-authorization/AuthorizeService.js","components/api-authorization/LoginMenu.js","components/NavMenu.js","components/Layout.js","components/Home.js","components/AdminOnly.js","components/api-authorization/AuthorizeRoute.js","components/api-authorization/AuthorizeAdminRoute.js","components/api-authorization/Login.js","components/api-authorization/Logout.js","components/api-authorization/ApiAuthorizationRoutes.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","QueryParameterNames","LogoutActions","LoginActions","prefix","ApplicationPaths","DefaultLoginRedirectPath","ApiAuthorizationClientConfigurationUrl","ApiAuthorizationPrefix","Login","LoginFailed","LoginCallback","Profile","LogOut","LoggedOut","LogOutCallback","IdentityManagePath","authService","_callbacks","_nextSubscriptionId","_user","_isAuthenticated","_popUpDisabled","this","getUser","user","profile","ensureUserManagerInitialized","userManager","access_token","state","signinSilent","createArguments","silentUser","updateState","success","console","log","Error","signinPopup","popUpUser","message","error","signinRedirect","redirect","url","signinCallback","signoutPopup","undefined","signoutRedirect","signoutCallback","response","data","notifySubscribers","callback","push","subscription","subscriptionId","subscriptionIndex","map","element","index","found","filter","length","splice","i","useReplaceToNavigate","status","AuthenticationResultStatus","Fail","Success","Redirect","fetch","ok","json","settings","automaticSilentRenew","includeIdTokenInSilentRenew","userStore","WebStorageStateStore","UserManager","events","addUserSignedOut","a","removeUser","LoginMenu","props","isAuthenticated","userName","role","_subscription","subscribe","populateState","unsubscribe","Promise","all","setState","name","profilePath","logoutPath","pathname","local","authenticatedView","loginPath","anonymousView","tag","Link","className","to","Component","NavMenu","toggleNavbar","bind","collapsed","light","onClick","isOpen","navbar","displayName","Layout","Fragment","Container","style","padding","fluid","children","Home","handleFileSelection","selection","uploadFilePath","downloadFileName","key","handleFolderSelection","handleCreateFolder","formData","FormData","append","getAccessToken","token","method","body","headers","files","concat","alert","createFolder","handleDeleteFolder","folderKey","toString","newFiles","file","substr","deleteFolder","handleRenameFolder","oldKey","newKey","charAt","substring","rf","p","JSON","stringify","replace","renameFolder","handleRenameFile","size","modified","Moment","renameFile","handleDeleteFile","fileKey","df","deleteFile","handleModalClose","showModal","uploadFile","uploadFileName","uploading","handleModalShow","openBrowseDialog","dialog","click","handleSelectedFiles","e","currentTarget","handleAddFileFromUpload","tags","tagsForFileUpload","label","fullPath","document","getElementById","checked","addedNewFile","uniqueNewFiles","newFile","exists","existingFile","showAlertModal","alertMessage","addFile","handleFileDownload","filePath","fileName","split","blob","saveAs","downloadFile","setFiles","fs","t","r1","loading","changeModalBody","tagsForFilter","searchBy","createStorage","getFiles","r","modalHeader","modalBody","browseOrUpload","Modal","Header","backgroundColor","closeButton","Title","id","onChange","x","multiple","allowNew","placeholder","options","selectHintOnEnter","ref","_typeahead","Button","variant","content","adminFileCheck","deletePermission","icons","File","icon","faFile","Image","faImage","PDF","faFilePdf","Rename","faFileSignature","Folder","faFolder","FolderOpen","faFolderOpen","Delete","faTrash","Loading","faSpinner","onCreateFolder","onRenameFolder","onRenameFile","onSelectFile","onSelectFolder","onDeleteFolder","onDeleteFile","Form","Check","type","paddingLeft","marginTop","pulse","download","textAlign","trim","cursor","show","onHide","Footer","Row","Col","width","Control","centered","onEnter","innerHTML","alertMesssage","Body","setParentForFiles","GreenWellNavMenu","Search","val","search","setSearchBy","b","value","Navbar","Nav","Dropdown","onSelect","evt","as","ButtonGroup","Toggle","Menu","Item","eventKey","active","inline","FormControl","onKeyPress","event","preventDefault","height","border","src","searchButton","UploadButton","float","paddingRight","uploadButton","marginLeft","AdminOnly","resolveFile","fileToApprove","approval","showApproveModal","showRejectModal","fileToDownload","deleteAUser","userToDelete","adminUsers","nonAdminUsers","showDeleteUserModal","userInAction","makeUserAdmin","userToMakeAdmin","showMakeUserAdminModal","makeUserNonAdmin","userToMakeNonAdmin","showMakeAdminNonAdminModal","validateEmail","email","test","validateUsername","username","addUser","userToAdd","showAddUserModal","fileSelected","getUsers","getUnapprovedFiles","color","display","justifyContent","Table","striped","bordered","hover","title","faLevelDownAlt","faLevelUpAlt","borderSpacing","faUserPlus","filename","faCheck","faTimes","faFileDownload","AuthorizeRoute","ready","authenticated","authenticationChanged","populateAuthenticationState","redirectUrl","encodeURI","window","location","href","component","rest","render","AuthorizeAdminRoute","admin","action","login","getReturnUrl","processLoginCallback","URLSearchParams","get","redirectToProfile","returnUrl","signIn","result","navigateToReturnUrl","completeSignIn","fromQuery","startsWith","origin","redirectToApiAuthorizationPath","apiAuthorizationPath","Logout","isReady","history","logout","processLogoutCallback","signOut","completeSignOut","ApiAuthorizationRoutes","path","loginAction","logoutAction","App","exact","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","baseUrl","getElementsByTagName","getAttribute","rootElement","ReactDOM","basename","URL","process","addEventListener","indexOf","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e4f13e7a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAyCAYAAAAayliMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAANdSURBVGhD7ZjZTxNRFIf9h9zik8blwRiJiUukgBoXwhpAZOlO6YIUSm2BTrHrbMzwhx7PmdJpbQ/T2UjRzMP30k7v/X0z5849vbfCF5PwLxMIjJtrE0jon2FXm2e/85NrEYjoIRDkIrSlJqS1RfYav/BdIHIRgpKaAUmSDGpyBeL6J/ZaP/BdIKetYXDRFCDqsgBRfZq93iu+CmS0ZSybthG6XP8NkXLBlCgrWfY3XvFNIKZ/xDtdNcI22i14tbsFt7fmIV0pmxIFNYbXhoZ+6wVfBGL6B6z1UyNkWxRhKhc3whMPYysgNOqd76QWPqUldgy3eBYwFq3SW7TrxTzc3V4wBYin8TUQml2JJqS0OXYsN3gWKKhxM3zqtPRX8H7eZ2PmdfRm4sZygycBWrQtvKMU6hgX7aPYKhu+y2w+DSKWGF0vKEV8M82w4zrBtUBS+wYi1jSFOWs24AmWCRe6Hyotekri5ZM4UhM4lrdF7U4Ad9ozufd2mcTy4AJz3A8vQk44Nn4n4n6RV8P8HDZxLBC9mIYTJd8JgOWwcJhlg1rxLPEdKpdvppbUwJ5pgZ3LDo4FDs7D5p3fq54OvXHs8ji+CnXcLzpPoo3N3xd2vlE4Etg7Xzcmo0n3MfyD8BIbzg53kJm9hLkeqnIJm8Apdl4rbAsk8Q41pZoxGd2558kfbDCnUAl2JSpyAfcVZxK2BKibbMhnxiTUJkykNtkwbqBF3Ws3RDg02g0+B4cNgVBv0SJzBxnj8XNh3HJvexHyWJJdCSpVPsswIwVKavpyYAk2SwdsAD+gfYT6KJqH3kxx/EfH5RnEUuBn36KlzepNJgIvdjZMJlJb8BLhAllBDd7rdHiI5ULOlKCSTepf2Vz9XClADVc3vBXFWpUNacU0vn24sQapKKMXNSsQxfaY/kVxgw5CrTIX0op3mSg7FseJsm90vFxOghXY0WexfDYsEZQjY4IqtslcSCveYil2A+bPtyGrrQxBjSLt0HSyEcHdn8tJjFzEV/FL3fVFgG4WN75dAoFAIBBgPrRDIPC/CHg9wR67QNrjQVcgEAgEAsyHdggEbooAnVLQ0YgTouXOf4kbIeCVsQnQyXJTrnnGy7ko4VqAzvbpwMsrTk/iBnEtcFMIBMZNIDBeJuEPrJFYavO5yqwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAABH0lEQVQ4T62U4VXDMAyE71ZgBBgBRigj0BHKCDBCOwIdgYwAI7QjwAoZ4XiXWnmKn9sUiP4lsj+fLJ2JKiTdAtgAWAG4L+lvAJ8A9iSP9Z74Zk5I2gJ4Obe4/N8DeCXZ1+tGmKR3AE8zoEhb5boGDrCGIpeyAxAludwoPYAdyXU+nJK88JB++l6eWwobhz6StMohDHsrp/r7SPLhUqmSPkpzvGyizrAvAO6gw/fQzcDcZQMdPcmbrExp8x1Jj8HFkNTcY2WLwhYtc9EG/GY07A67JGLSsBjarG4YkSuG1nZyw0ZbZTvl+ZlraOQntqqNXitsQa06XhPnR+AE5kyxlw1/9glq2OoEvLaeel0D2P0ZVqrI71//L1gBelx8LbsfbpWbBqwYWc0AAAAASUVORK5CYII=\"","export const ApplicationName = 'Greenwell';\n\nexport const QueryParameterNames = {\n  ReturnUrl: 'returnUrl',\n  Message: 'message'\n};\n\nexport const LogoutActions = {\n  LogoutCallback: 'logout-callback',\n  Logout: 'logout',\n  LoggedOut: 'logged-out'\n};\n\nexport const LoginActions = {\n  Login: 'login',\n  LoginCallback: 'login-callback',\n  LoginFailed: 'login-failed',\n  Profile: 'profile',\n};\n\nconst prefix = '/authentication';\n\nexport const ApplicationPaths = {\n  DefaultLoginRedirectPath: '/',\n  ApiAuthorizationClientConfigurationUrl: `/_configuration/${ApplicationName}`,\n  ApiAuthorizationPrefix: prefix,\n  Login: `${prefix}/${LoginActions.Login}`,\n  LoginFailed: `${prefix}/${LoginActions.LoginFailed}`,\n  LoginCallback: `${prefix}/${LoginActions.LoginCallback}`,\n  Profile: `${prefix}/${LoginActions.Profile}`,\n  LogOut: `${prefix}/${LogoutActions.Logout}`,\n  LoggedOut: `${prefix}/${LogoutActions.LoggedOut}`,\n  LogOutCallback: `${prefix}/${LogoutActions.LogoutCallback}`,\n  IdentityManagePath: '/Identity/Account/Manage'\n};\n","import { UserManager, WebStorageStateStore } from 'oidc-client';\nimport { ApplicationPaths, ApplicationName } from './ApiAuthorizationConstants';\n\nexport class AuthorizeService {\n    _callbacks = [];\n    _nextSubscriptionId = 0;\n    _user = null;\n    _isAuthenticated = false;\n\n    // By default pop ups are disabled because they don't work properly on Edge.\n    // If you want to enable pop up authentication simply set this flag to false.\n    _popUpDisabled = true;\n\n    async isAuthenticated() {\n        const user = await this.getUser();\n        return !!user;\n    }\n\n    async getUser() {\n        if (this._user && this._user.profile) {\n            return this._user.profile;\n        }\n\n        await this.ensureUserManagerInitialized();\n        const user = await this.userManager.getUser();\n        return user && user.profile;\n    }\n\n    async getAccessToken() {\n        await this.ensureUserManagerInitialized();\n        const user = await this.userManager.getUser();\n        return user && user.access_token;\n    }\n\n    // We try to authenticate the user in three different ways:\n    // 1) We try to see if we can authenticate the user silently. This happens\n    //    when the user is already logged in on the IdP and is done using a hidden iframe\n    //    on the client.\n    // 2) We try to authenticate the user using a PopUp Window. This might fail if there is a\n    //    Pop-Up blocker or the user has disabled PopUps.\n    // 3) If the two methods above fail, we redirect the browser to the IdP to perform a traditional\n    //    redirect flow.\n    async signIn(state) {\n        await this.ensureUserManagerInitialized();\n        try {\n            const silentUser = await this.userManager.signinSilent(this.createArguments());\n            this.updateState(silentUser);\n            return this.success(state);\n        } catch (silentError) {\n            // User might not be authenticated, fallback to popup authentication\n            console.log(\"Silent authentication error: \", silentError);\n\n            try {\n                if (this._popUpDisabled) {\n                    throw new Error('Popup disabled. Change \\'AuthorizeService.js:AuthorizeService._popupDisabled\\' to false to enable it.')\n                }\n\n                const popUpUser = await this.userManager.signinPopup(this.createArguments());\n                this.updateState(popUpUser);\n                return this.success(state);\n            } catch (popUpError) {\n                if (popUpError.message === \"Popup window closed\") {\n                    // The user explicitly cancelled the login action by closing an opened popup.\n                    return this.error(\"The user closed the window.\");\n                } else if (!this._popUpDisabled) {\n                    console.log(\"Popup authentication error: \", popUpError);\n                }\n\n                // PopUps might be blocked by the user, fallback to redirect\n                try {\n                    await this.userManager.signinRedirect(this.createArguments(state));\n                    return this.redirect();\n                } catch (redirectError) {\n                    console.log(\"Redirect authentication error: \", redirectError);\n                    return this.error(redirectError);\n                }\n            }\n        }\n    }\n\n    async completeSignIn(url) {\n        try {\n            await this.ensureUserManagerInitialized();\n            const user = await this.userManager.signinCallback(url);\n            this.updateState(user);\n            return this.success(user && user.state);\n        } catch (error) {\n            console.log('There was an error signing in: ', error);\n            return this.error('There was an error signing in.');\n        }\n    }\n\n    // We try to sign out the user in two different ways:\n    // 1) We try to do a sign-out using a PopUp Window. This might fail if there is a\n    //    Pop-Up blocker or the user has disabled PopUps.\n    // 2) If the method above fails, we redirect the browser to the IdP to perform a traditional\n    //    post logout redirect flow.\n    async signOut(state) {\n        await this.ensureUserManagerInitialized();\n        try {\n            if (this._popUpDisabled) {\n                throw new Error('Popup disabled. Change \\'AuthorizeService.js:AuthorizeService._popupDisabled\\' to false to enable it.')\n            }\n\n            await this.userManager.signoutPopup(this.createArguments());\n            this.updateState(undefined);\n            return this.success(state);\n        } catch (popupSignOutError) {\n            console.log(\"Popup signout error: \", popupSignOutError);\n            try {\n                await this.userManager.signoutRedirect(this.createArguments(state));\n                return this.redirect();\n            } catch (redirectSignOutError) {\n                console.log(\"Redirect signout error: \", redirectSignOutError);\n                return this.error(redirectSignOutError);\n            }\n        }\n    }\n\n    async completeSignOut(url) {\n        await this.ensureUserManagerInitialized();\n        try {\n            const response = await this.userManager.signoutCallback(url);\n            this.updateState(null);\n            return this.success(response && response.data);\n        } catch (error) {\n            console.log(`There was an error trying to log out '${error}'.`);\n            return this.error(error);\n        }\n    }\n\n    updateState(user) {\n        this._user = user;\n        this._isAuthenticated = !!this._user;\n        this.notifySubscribers();\n    }\n\n    subscribe(callback) {\n        this._callbacks.push({ callback, subscription: this._nextSubscriptionId++ });\n        return this._nextSubscriptionId - 1;\n    }\n\n    unsubscribe(subscriptionId) {\n        const subscriptionIndex = this._callbacks\n            .map((element, index) => element.subscription === subscriptionId ? { found: true, index } : { found: false })\n            .filter(element => element.found === true);\n        if (subscriptionIndex.length !== 1) {\n            throw new Error(`Found an invalid number of subscriptions ${subscriptionIndex.length}`);\n        }\n\n        this._callbacks.splice(subscriptionIndex[0].index, 1);\n    }\n\n    notifySubscribers() {\n        for (let i = 0; i < this._callbacks.length; i++) {\n            const callback = this._callbacks[i].callback;\n            callback();\n        }\n    }\n\n    createArguments(state) {\n        return { useReplaceToNavigate: true, data: state };\n    }\n\n    error(message) {\n        return { status: AuthenticationResultStatus.Fail, message };\n    }\n\n    success(state) {\n        return { status: AuthenticationResultStatus.Success, state };\n    }\n\n    redirect() {\n        return { status: AuthenticationResultStatus.Redirect };\n    }\n\n    async ensureUserManagerInitialized() {\n        if (this.userManager !== undefined) {\n            return;\n        }\n\n        let response = await fetch(ApplicationPaths.ApiAuthorizationClientConfigurationUrl);\n        if (!response.ok) {\n            throw new Error(`Could not load settings for '${ApplicationName}'`);\n        }\n\n        let settings = await response.json();\n        settings.automaticSilentRenew = true;\n        settings.includeIdTokenInSilentRenew = true;\n        settings.userStore = new WebStorageStateStore({\n            prefix: ApplicationName\n        });\n\n        this.userManager = new UserManager(settings);\n\n        this.userManager.events.addUserSignedOut(async () => {\n            await this.userManager.removeUser();\n            this.updateState(undefined);\n        });\n    }\n\n    static get instance() { return authService }\n}\n\nconst authService = new AuthorizeService();\n\nexport default authService;\n\nexport const AuthenticationResultStatus = {\n    Redirect: 'redirect',\n    Success: 'success',\n    Fail: 'fail'\n};\n","import React, { Component, Fragment } from 'react';\nimport { NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport authService from './AuthorizeService';\nimport { ApplicationPaths } from './ApiAuthorizationConstants';\n\nexport class LoginMenu extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isAuthenticated: false,\n            userName: null,\n            role: null\n        };\n    }\n\n    componentDidMount() {\n        this._subscription = authService.subscribe(() => this.populateState());\n        this.populateState();\n    }\n\n    componentWillUnmount() {\n        authService.unsubscribe(this._subscription);\n    }\n\n    async populateState() {\n        const [isAuthenticated, user] = await Promise.all([authService.isAuthenticated(), authService.getUser()])\n        this.setState({\n            isAuthenticated,\n            userName: user && user.name,\n            role: user && user.role\n        });\n    }\n\n    render() {\n        const { isAuthenticated, userName, role } = this.state;\n        if (!isAuthenticated) {\n            const loginPath = `${ApplicationPaths.Login}`;\n            return this.anonymousView(loginPath);\n        } else {\n            const profilePath = `${ApplicationPaths.Profile}`;\n            const logoutPath = { pathname: `${ApplicationPaths.LogOut}`, state: { local: true } };\n            return this.authenticatedView(userName, profilePath, logoutPath);\n        }\n    }\n\n    authenticatedView(userName, profilePath, logoutPath) {\n        if (this.state.role != null) {\n            if (this.state.role == \"Administrator\") {\n                return (<Fragment>\n                    <NavItem>\n                        <NavLink tag={Link} className=\"text-dark\" to={profilePath}>Hello {userName}</NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={Link} className=\"text-dark\" to={logoutPath}>Logout</NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={Link} className=\"text-dark\" to=\"/Admin/Manage\">Admin Only/Handle Users</NavLink>\n                    </NavItem>\n                </Fragment>);\n            }\n            else {\n                return (<Fragment>\n                    <NavItem>\n                        <NavLink tag={Link} className=\"text-dark\" to={profilePath}>Hello {userName} | Employee</NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={Link} className=\"text-dark\" to={logoutPath}>Logout</NavLink>\n                    </NavItem>\n                </Fragment>);\n            }\n        }\n    }\n\n    anonymousView(loginPath) {\n        return (<Fragment>\n            <NavItem>\n                <NavLink tag={Link} className=\"text-dark\" to={loginPath}>Login</NavLink>\n            </NavItem>\n        </Fragment>);\n    }\n}\n","import React, { Component } from 'react';\nimport { Collapse, Container, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { LoginMenu } from './api-authorization/LoginMenu';\nimport './NavMenu.css';\n\nexport class NavMenu extends Component {\n  static displayName = NavMenu.name;\n\n  constructor (props) {\n    super(props);\n\n    this.toggleNavbar = this.toggleNavbar.bind(this);\n    this.state = {\n      collapsed: true\n    };\n  }\n\n  toggleNavbar () {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  }\n\n  render () {\n    return (\n      <header>\n        <Navbar className=\"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3\" light>\n          <Container>\n            <NavbarBrand tag={Link} to=\"/\">Greenwell</NavbarBrand>\n            <NavbarToggler onClick={this.toggleNavbar} className=\"mr-2\" />\n            <Collapse className=\"d-sm-inline-flex flex-sm-row-reverse\" isOpen={!this.state.collapsed} navbar>\n              <ul className=\"navbar-nav flex-grow\">\n                <LoginMenu>\n                </LoginMenu>\n              </ul>\n            </Collapse>\n          </Container>\n        </Navbar>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { NavMenu } from './NavMenu';\nimport { Col, Container, Row, Form, FormControl, Button, Image } from 'react-bootstrap';\n\nexport class Layout extends Component {\n  static displayName = Layout.name;\n\n  render () {\n    return (\n      <div>\n        <NavMenu />\n            <React.Fragment>\n                <Container style={{ padding: \"0px\" }} fluid>\n                    {this.props.children}\n                </Container>\n            </React.Fragment>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, FormControl, Container, Navbar, Nav, InputGroup, Modal, Row, Image, Form, Dropdown, ButtonGroup, Col } from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport Moment from 'moment';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport FileBrowser, { Icons } from 'react-keyed-file-browser';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFile, faFolder, faImage, faFilePdf, faTrash, faFolderOpen, faFileSignature, faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport '../react-keyed-file-browser.css';\nimport '../Typeahead.css';\nimport uploadButton from '../logos/upload.png';\nimport searchButton from '../logos/search.png';\nimport { saveAs } from 'file-saver';\n\nimport authService from './api-authorization/AuthorizeService';\n\nexport class Home extends Component {\n    displayName = Home.name\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            //noFiles: false,\n            //filesLoaded: false,\n            files: [],\n            showModal: false,\n            uploadFile: null,\n            uploadFileName: \"\",\n            uploadFilePath: \"\",\n            tagsForFileUpload: [],\n            changeModalBody: false,\n            tagsForFilter: [],\n            showAlertModal: false,\n            alertMessage: null,\n            downloadFileName: \"\",\n            uploading: false,\n            searchBy: \"fileName\",\n            role: null\n\n        };\n        // check and create the local storage\n        this.createStorage();\n\n\n        // check the state of the user and get the files\n        this.populateState();\n    }\n    //Create storage on constructor\n    async createStorage() {\n        const token = await authService.getAccessToken();\n        fetch('api/GreenWellFiles/CreateLocalStorage', {\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n\n    }\n\n    // method that gets the state of the user and get the files accordingly\n    async populateState() {\n        let getFiles = async (r) => {\n            const token = await authService.getAccessToken();\n            const response = await fetch(r ? 'api/GreenWellFiles/AdminGetAllFiles' : 'api/GreenWellFiles/GetAllFiles', {\n                method: 'POST',\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n            const json = await response.json();\n            if (json.files.length == 0) {\n                this.setState({\n                    loading: false,\n                    //noFiles: true,\n                    //filesLoaded: false,\n                    files: [],\n                    tagsForFilter: []\n                });\n            }\n            else {\n                var i;\n                var t = [];\n                for (i = 0; i < json.files.length; i++) {\n                    var r1 = {\n                        key: json.files[i],\n                        size: 1000,\n                        modified: +Moment(),\n                    };\n                    t.push(r1);\n                }\n                this.setState({\n                    loading: false,\n                    //filesLoaded: true,\n                    //noFiles: false,\n                    files: t,\n                    tagsForFilter: json.tags\n                });\n            }\n        }\n\n        // get the state of the user and pass role of the user to previous method to get files\n        const [user] = await Promise.all([authService.getUser()]);\n        this.setState({\n            role: user && user.role\n        }, () => getFiles(this.state.role == \"Administrator\"));\n    }\n\n\n    //Function that handles when a file is clicked on within react file browser\n    handleFileSelection = (selection) => {\n        this.setState({\n            uploadFilePath: \"\",\n            downloadFileName: selection.key\n        });\n    }\n\n    //Function that handles when a folder is clicked on with react file browser\n    handleFolderSelection = (selection) => {\n        this.setState({\n            uploadFilePath: selection.key,\n            downloadFileName: \"\"\n        });\n\n    }\n\n\n    handleCreateFolder = (key) => {\n        // create object\n        let formData = new FormData();\n        formData.append(\"folderPath\", key);\n        //alert(key);\n        // define async function\n        let createFolder = async () => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/AddAFolder', {\n                method: 'POST',\n                body: formData,\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n            const json = await response.json();\n            if (json.status === \"200\") {\n                this.setState(state => {\n                    state.files = state.files.concat([{\n                        key: key,\n                    }])\n                    return state\n                })\n                alert(json.message);\n            }\n            else alert(json.message);\n        }\n        // call it\n        createFolder();\n    }\n\n    handleDeleteFolder = (folderKey) => {\n        // get folder path string\n        let formData = new FormData();\n        formData.append(\"folderPath\", folderKey.toString());\n        // create async function\n        let deleteFolder = async () => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/DeleteAFolder', {\n                method: 'POST',\n                body: formData,\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            })\n            const json = await response.json();\n            if (json.status === \"200\") {\n                this.setState(state => {\n                    const newFiles = []\n                    state.files.map((file) => {\n                        if (file.key.substr(0, folderKey.toString().length) != folderKey) {\n                            newFiles.push(file);\n                        }\n                    });\n                    //If a folder is deleted the upload path should reflect that.\n                    state.uploadFilePath = \"\";\n                    state.files = newFiles;\n                    return state\n                });\n                alert(json.message);\n            }\n            else alert(json.message);\n        }\n        // call it\n        deleteFolder();\n    }\n\n    handleRenameFolder = (oldKey, newKey) => {\n        // store old and new folder names\n        if (oldKey.charAt(0) == \"/\") {\n            oldKey = oldKey.substring(1, oldKey.length);\n        }\n        const rf = [oldKey, newKey]\n        // create async function\n        let renameFolder = async (p) => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/RenameAFolder', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(p)\n            })\n            const json = await response.json();\n            if (json.status === \"200\") {\n                this.setState(state => {\n                    const newFiles = []\n                    state.files.map((file) => {\n                        if (file.key.substr(0, oldKey.length) === oldKey) {\n                            newFiles.push({\n                                ...file,\n                                key: file.key.replace(oldKey, newKey),\n                            })\n                        } else {\n                            newFiles.push(file)\n                        }\n                    })\n                    //If the folder is renamed, the uploadPath should reflect that.\n                    state.uploadFilePath = newKey\n                    state.files = newFiles\n                    return state\n                })\n                alert(json.message);\n            }\n            else alert(json.message);\n        }\n        // call it\n        renameFolder(rf);\n    }\n\n    handleRenameFile = (oldKey, newKey) => {\n        // store old and new file names\n        const rf = [oldKey, newKey]\n        // create async function\n        let renameFile = async (p) => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/RenameAFile', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(p)\n            })\n            const json = await response.json();\n            if (json.status === \"200\") {\n                this.setState(state => {\n                    this.setState(state => {\n                        const newFiles = []\n                        state.files.map((file) => {\n                            if (file.key === oldKey) {\n                                newFiles.push({\n                                    ...file,\n                                    key: newKey,\n                                    size: 1000,\n                                    modified: +Moment(),\n                                })\n                            } else {\n                                newFiles.push(file)\n                            }\n                        })\n                        state.files = newFiles;\n                        //If the file name is altered, our selection should reflect that.\n                        state.downloadFileName = newKey;\n                        return state\n                    })\n                })\n                alert(json.message);\n            }\n            else alert(json.message);\n        }\n        // call it\n        renameFile(rf);\n    }\n\n\n    handleDeleteFile = (fileKey) => {\n        // store path for file to be deleted\n        var df = fileKey.toString();\n        // create async function\n        let deleteFile = async (p) => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/DeleteAFile', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(p)\n            })\n            const json = await response.json();\n            if (json.status === \"200\") {\n                this.setState(state => {\n                    const newFiles = []\n                    state.files.map((file) => {\n                        if (file.key.toString() !== fileKey.toString()) {\n                            newFiles.push(file)\n                        }\n                    })\n                    state.files = newFiles\n                    //If the file is deleted it can no longer be selected.\n                    state.downloadFileName = \"\"\n                    return state\n                })\n                alert(json.message);\n            }\n            else alert(json.message);\n        }\n        // call it\n        deleteFile(df);\n    }\n\n    handleModalClose = () => {\n        this.setState({\n            showModal: false,\n            uploadFile: null,\n            uploadFileName: \"\",\n            uploadFilePath: \"\",\n            uploading: false\n        });\n    }\n\n    handleModalShow = () => {\n        this.setState({\n            showModal: true,\n            uploading: true\n        });\n    }\n    openBrowseDialog = (dialog) => {\n        dialog.click();\n    }\n\n    handleSelectedFiles = (e) => {\n        var files = e.currentTarget.files;\n        //console.log(files[0]);\n        this.setState({\n            uploadFile: files[0],\n            uploadFileName: files[0].name\n        });\n\n    }\n\n    handleAddFileFromUpload = () => {\n        let tags = [];\n        if (!this.state.tagsForFileUpload.length == 0) {\n            let i;\n            for (i = 0; i < this.state.tagsForFileUpload.length; i++) {\n                if (typeof this.state.tagsForFileUpload[i] === \"object\")\n                    tags.push(this.state.tagsForFileUpload[i].label);\n                else\n                    tags.push(this.state.tagsForFileUpload[i]);\n            }\n        }\n\n        let fullPath = this.state.uploadFilePath + this.state.uploadFileName;\n        let addFile = async () => {\n            let formData = new FormData();\n            formData.append(\"path\", fullPath)\n            formData.append(\"f\", this.state.uploadFile);\n            formData.append(\"tags\", tags);\n            if (document.getElementById(\"adminCheckBox\") == null)\n                formData.append(\"adminAccessOnly\", document.getElementById(\"adminCheckBox\"));\n            else\n                formData.append(\"adminAccessOnly\", document.getElementById(\"adminCheckBox\").checked);\n\n            const token = await authService.getAccessToken();\n            const response = await fetch((this.state.role == \"Administrator\") ? 'api/GreenWellFiles/AdminAddFileFromUpload' : 'api/GreenWellFiles/AddFileFromUpload', {\n\n                method: 'POST',\n                body: formData,\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n\n            const json = await response.json();\n            if (json.status === \"200\") {\n\n                //We don't add the file to the browser if the user isn't an admin becuase it needs to be approved.\n                if (this.state.role == \"Administrator\") {\n                    this.setState(state => {\n                        const addedNewFile = [];\n                        addedNewFile.push({ \n                          key: this.state.uploadFilePath + this.state.uploadFileName,\n                          size: 1000,\n                          modified: +Moment(),\n                        });\n\n                        const uniqueNewFiles = []\n                        addedNewFile.map((newFile) => {\n                            let exists = false\n                            state.files.map((existingFile) => {\n                                if (existingFile.key === newFile.key) {\n                                    exists = true\n                                }\n                            })\n                            if (!exists) {\n                                uniqueNewFiles.push(newFile)\n\n                            }\n                        })\n                        state.files = state.files.concat(uniqueNewFiles)\n                        return state\n\n                    });\n                }\n                else {\n                    this.setState({\n                        showAlertModal: true,\n                        showModal: false,\n                        uploadFile: null,\n                        uploadFileName: \"\",\n                        uploadFilePath: \"\",\n                        uploading: false,\n                        alertMessage: \"File has been sent for approval.\"\n                    })\n                    return\n                }\n                this.setState({\n                    showModal: false,\n                    uploadFile: null,\n                    uploadFileName: \"\",\n                    uploadFilePath: \"\",\n                    uploading: false\n                });\n            }\n            else if (json.status === \"201\") {\n                this.setState({\n                    showAlertModal: true,\n                    showModal: false,\n                    uploadFile: null,\n                    uploadFileName: \"\",\n                    uploadFilePath: \"\",\n                    uploading: false,\n                    alertMessage: \"Unable to upload duplicate file.\"\n                })\n            }\n        }\n        addFile();\n    }\n\n    handleFileDownload = () => {\n        // assign to variable\n        //alert(this.state.downloadFileName);\n        let filePath = this.state.downloadFileName;\n        let fileName = filePath.split(\"/\")[filePath.split(\"/\").length - 1];\n        let downloadFile = async () => {\n            let formData = new FormData();\n            formData.append(\"filePath\", filePath)\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/DownloadAFile', {\n                method: 'POST',\n                body: formData,\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n\n            const blob = await response.blob();\n            saveAs(blob, fileName);\n        }\n        downloadFile();\n    }\n\n    setFiles = (fs) => {\n        var i;\n        var t = [];\n        for (i = 0; i < fs.length; i++) {\n            var r1 = {\n                key: fs[i],\n                size: 1000,\n                modified: +Moment(),\n            };\n            t.push(r1);\n        }\n        //console.log(t);\n        this.setState({\n            loading: false,\n            //filesLoaded: true,\n            //noFiles: false,\n            files: t\n        });\n    }\n\n    render() {\n        const { loading, changeModalBody, uploadFile, uploadFileName, uploadFilePath, tagsForFilter } = this.state;\n        let modalHeader;\n        let modalBody;\n        if (uploadFileName === \"\") {\n            modalHeader = (\n                <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                    <Modal.Title>Upload A File.</Modal.Title>\n                </Modal.Header>\n            );\n            modalBody = (\n                null\n            );\n        }\n        if (uploadFileName !== \"\") {\n            modalHeader = (\n                <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                    <Modal.Title>{uploadFileName}</Modal.Title>\n                </Modal.Header>\n            );\n            modalBody = (\n                <Typeahead\n                    id=\"tags\"\n                    onChange={(x) => this.setState({ tagsForFileUpload: x })}\n                    multiple\n                    allowNew\n                    placeholder=\"Add Tags (optional)\"\n                    options={tagsForFilter}\n                    selectHintOnEnter={true}\n                    ref={(ref) => this._typeahead = ref}\n                />\n            );\n        }\n        let browseOrUpload;\n        if (uploadFileName === \"\") {\n            browseOrUpload = (\n                <Button variant=\"secondary\" onClick={() => this.openBrowseDialog(document.getElementById(\"dialog\"))}>\n                    Browse\n                </Button>\n            );\n        }\n        if (uploadFileName !== \"\") {\n            browseOrUpload = (\n                <Button variant=\"secondary\" onClick={() => this.handleAddFileFromUpload()}>\n                    Upload\n                </Button>\n            );\n        }\n        let adminFileCheck = null;\n        let deletePermission = (\n            <FileBrowser /*className=\"react-keyed-file-browser\"*/\n                files={this.state.files}\n                icons={{\n                    File: <FontAwesomeIcon className=\"fa-2x\" icon={faFile} />,\n                    Image: <FontAwesomeIcon className=\"fa-2x\" icon={faImage} />,\n                    PDF: <FontAwesomeIcon className=\"fa-2x\" icon={faFilePdf} />,\n                    Rename: <FontAwesomeIcon className=\"fa-2x\" icon={faFileSignature} />,\n                    Folder: <FontAwesomeIcon className=\"fa-2x\" icon={faFolder} />,\n                    FolderOpen: <FontAwesomeIcon className=\"fa-2x\" icon={faFolderOpen} />,\n                    Delete: <FontAwesomeIcon className=\"fa-2x\" icon={faTrash} />,\n                    Loading: <FontAwesomeIcon className=\"fa-2x\" icon={faSpinner} />,\n                }}\n                onCreateFolder={this.handleCreateFolder}\n                onRenameFolder={this.handleRenameFolder}\n                onRenameFile={this.handleRenameFile}\n                onSelectFile={this.handleFileSelection}\n                onSelectFolder={this.handleFolderSelection}\n\n\n            // onCreateFiles={this.handleCreateFiles}\n\n            //onMoveFolder={this.handleRenameFolder}\n            //onMoveFile={this.handleRenameFolder}\n            />);\n        if (this.state.role != null) {\n            if (this.state.role == \"Administrator\") {\n                deletePermission = (\n                    <FileBrowser /*className=\"react-keyed-file-browser\"*/\n                        files={this.state.files}\n                        icons={{\n                            File: <FontAwesomeIcon className=\"fa-2x\" icon={faFile} />,\n                            Image: <FontAwesomeIcon className=\"fa-2x\" icon={faImage} />,\n                            PDF: <FontAwesomeIcon className=\"fa-2x\" icon={faFilePdf} />,\n                            Rename: <FontAwesomeIcon className=\"fa-2x\" icon={faFileSignature} />,\n                            Folder: <FontAwesomeIcon className=\"fa-2x\" icon={faFolder} />,\n                            FolderOpen: <FontAwesomeIcon className=\"fa-2x\" icon={faFolderOpen} />,\n                            Delete: <FontAwesomeIcon className=\"fa-2x\" icon={faTrash} />,\n                            Loading: <FontAwesomeIcon className=\"fa-2x\" icon={faSpinner} />,\n                        }}\n                        onDeleteFolder={this.handleDeleteFolder}\n                        onDeleteFile={this.handleDeleteFile}\n                        onCreateFolder={this.handleCreateFolder}\n                        onRenameFolder={this.handleRenameFolder}\n                        onRenameFile={this.handleRenameFile}\n                        onSelectFile={this.handleFileSelection}\n                        onSelectFolder={this.handleFolderSelection}\n\n\n                    // onCreateFiles={this.handleCreateFiles}\n\n                    //onMoveFolder={this.handleRenameFolder}\n                    //onMoveFile={this.handleRenameFolder}\n                    />\n                );\n\n                if (uploadFileName !== \"\") {\n                    adminFileCheck = (\n                        <div>\n                            <Form.Check id=\"adminCheckBox\" type=\"checkbox\" label=\"Show file to Admin Users only.\" />\n                            <br />\n                        </div>\n                    );\n                }\n            }\n        }\n        let content;\n        if (loading) {\n            content =\n                (\n                    <div style={{ paddingLeft: \"40px\", marginTop: \"20px\" }}>\n                        <h1>Loading</h1>\n                        < FontAwesomeIcon className=\"fa-2x\" icon={faSpinner} pulse />\n                    </div>\n                );\n        }\n        let download = (\n            <div style={{ textAlign: \"right\" }}>\n                <Button onClick={this.handleFileDownload}>Download</Button>\n            </div>\n        );\n        if (this.state.downloadFileName.trim() === \"\") {\n            download = (\n                <div style={{ textAlign: \"right\" }}>\n                    <Button style={{ cursor: \"default\", backgroundColor: \"gray\" }}>Download</Button>\n                </div>\n            );\n        }\n        //    if (noFiles && !loading) {\n        //        content =\n        //            (\n        //                <Container style={{ marginTop: \"18%\", padding: \"0px\", marginLeft: \"32%\", marginRight: \"0px\" }}>\n        //                    <InputGroup>\n        //                        <Button onClick={() => this.fetchPathFiles(document.getElementById(\"inputPath\").value)}>Fetch</Button>\n        //                        <FormControl id=\"inputPath\" style={{ maxWidth: \"40%\" }}\n        //                            required\n        //                            placeholder=\":Path\"\n        //                            aria-describedby=\"basic-addon1\"\n        //                        />\n        //                    </InputGroup>\n        //                </Container>\n        //            );\n\n        //}\n\n        if (!loading) {\n            content =\n                (\n                    <React.Fragment>\n                        <div id=\"file_browser\" className=\"div-files\">\n                            {deletePermission}\n                        </div>\n                        {download}\n                        <Modal show={this.state.showModal} onHide={this.handleModalClose}>\n                            {modalHeader}\n                            {modalBody}\n                            <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n\n                                <Container>\n                                    <Row>\n                                        <Col style={{ width: \"100%\", textAlign: \"center\" }}>\n                                            {adminFileCheck}\n                                        </Col>\n                                    </Row>\n                                    <Row>\n                                        <Col style={{ width: \"50%\", textAlign: \"center\" }}>\n                                            <Button variant=\"secondary\" onClick={this.handleModalClose}>\n                                                Close\n                                        </Button>\n                                        </Col>\n                                        <Col style={{ width: \"50%\", textAlign: \"center\" }}>\n                                            {browseOrUpload}\n                                        </Col>\n                                    </Row>\n                                </Container>\n                                <Form.Control id=\"dialog\" onChange={this.handleSelectedFiles} type=\"file\"></Form.Control>\n                            </Modal.Footer>\n                        </Modal>\n                        <Footer handleModalShow={this.handleModalShow} />\n\n                        <Modal centered show={this.state.showAlertModal} onEnter={() => { document.getElementById(\"alert\").innerHTML = this.state.alertMessage }} onHide={() => this.setState({ showAlertModal: false, alertMesssage: null })}>\n                            <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                                <p id=\"alert\"></p>\n                            </Modal.Body>\n                            <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                                <Button onClick={() => { this.setState({ showAlertModal: false, alertMesssage: null }) }} variant=\"primary\">Ok</Button>\n                            </Modal.Footer>\n                        </Modal>\n\n\n                    </React.Fragment>\n                );\n        }\n        return (\n            <div>\n                <GreenWellNavMenu setParentForFiles={this.setFiles} />\n                {content}\n            </div>\n        );\n    }\n}\n\nclass GreenWellNavMenu extends Component {\n    displayName = GreenWellNavMenu.name\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            role: null,\n            searchBy: \"fileName\"\n        };\n        this.populateState();\n    }\n\n    async populateState() {\n        const [user] = await Promise.all([authService.getUser()])\n        this.setState({\n            role: user && user.role\n        });\n    }\n\n    Search = (val) => {\n        let search = async (p) => {\n            let data = [p, this.state.searchBy, this.state.role];\n            const token = await authService.getAccessToken();\n            const response = await fetch((this.state.role == \"Administrator\") ? 'api/GreenWellFiles/AdminSearch' : 'api/GreenWellFiles/Search', {\n\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n\n                },\n                body: JSON.stringify(data)\n            });\n            const json = await response.json();\n            this.props.setParentForFiles(json.files);\n        }\n        search(val);\n    }\n\n    setSearchBy = (b) => {\n        if (document.getElementById(\"search\").value.toString().trim() !== \"\") {\n            this.setState({\n                searchBy: b\n            }, () => this.Search(document.getElementById(\"search\").value.toString().trim()));\n        }\n        else {\n            this.setState({\n                searchBy: b\n            });\n        }\n    }\n\n    render() {\n        return (\n            <Navbar className=\"GreenWell-Nav-Menu\">\n                <Nav className=\"ml-auto\" /*style={{ paddingTop: \"5px\" }}*/ >\n                    <Dropdown onSelect={(evt) => this.setSearchBy(evt)} as={ButtonGroup}>\n                        <Dropdown.Toggle id=\"dropdown\" />\n                        <Dropdown.Menu>\n                            <Dropdown.Item className=\"drop-down-item-style\" eventKey=\"fileName\" active={this.state.searchBy === \"fileName\"}>Search By File Name</Dropdown.Item>\n                            <Dropdown.Item className=\"drop-down-item-style\" eventKey=\"tags\" active={this.state.searchBy === \"tags\"}> By Tags</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    <Form inline>\n                        <FormControl id=\"search\" onKeyPress={event => { if (event.key === \"Enter\") { event.preventDefault(); }}} onChange={() => this.Search(document.getElementById(\"search\").value)} style={{ height: \"45px\", backgroundColor: \"transparent\", border: \"2px solid white\" }} type=\"text\" placeholder=\"Search\" />\n                        <Button onClick={() => this.Search(document.getElementById(\"search\").value)} className=\"search-button\">\n                            <Image src={searchButton} />\n                        </Button>\n                    </Form>\n                </Nav>\n            </Navbar>\n        );\n    }\n}\n\nclass UploadButton extends Component {\n    render() {\n        return (\n            <Row style={{ marginTop: \"15px\", float: \"right\", paddingRight: \"50px\" }} className=\"ml-auto\">\n                <button onClick={this.props.handleModalShow} style={{ paddingRight: \"50px\", width: \"50px\", border: \"none\" }} className=\"upload-Button1\" >\n                    <Image src={uploadButton} />\n                </button>\n                <button onClick={this.props.handleModalShow} style={{ border: \"none\", marginLeft: \"2px\" }} className=\"upload-Button2\" >Upload</button>\n            </Row>\n        );\n    }\n}\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div className=\"upload-footer\">\n                <UploadButton handleModalShow={this.props.handleModalShow} />\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Modal, Button } from 'react-bootstrap';\nimport authService from './api-authorization/AuthorizeService';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner, faTrash, faLevelUpAlt, faLevelDownAlt, faUserPlus, faCheck, faTimes, faFileDownload } from '@fortawesome/free-solid-svg-icons';\nimport { saveAs } from 'file-saver';\n\nexport class AdminOnly extends Component {\n    static displayName = AdminOnly.name;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            adminUsers: null,\n            nonAdminUsers: null,\n            showDeleteUserModal: false,\n            showMakeUserAdminModal: false,\n            showMakeAdminNonAdminModal: false,\n            showApproveModal: false,\n            showRejectModal: false,\n            showAddUserModal: false,\n            userInAction: null,\n            files: [],\n            fileSelected: null,\n        }\n\n\n        let getUsers = async () => {\n            const [user] = await Promise.all([authService.getUser()]);\n            const token = await authService.getAccessToken();\n            let formData = new FormData();\n            formData.append(\"currentUser\", user.name);\n            const response = await fetch('api/AdminOnly/GetUsers', {\n                method: 'POST',\n                body: formData,\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n            const json = await response.json();\n            this.setState({\n                adminUsers: json.adminUsers,\n                nonAdminUsers: json.nonAdminUsers,\n                loading: false\n            });\n        }\n\n\n        let getUnapprovedFiles = async () => {\n            const token = await authService.getAccessToken();\n            const response = await fetch('api/GreenWellFiles/UnapprovedFiles', {\n                method: 'POST',\n                headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n            });\n            const json = await response.json();\n            if (json.files.length == 0) {\n                this.setState({\n                    files: [],\n                });\n            }\n            else {\n                var i;\n                var t = [];\n                for (i = 0; i < json.files.length; i++) {\n                    var r1 = {\n                        key: json.files[i]\n                    };\n                    t.push(r1);\n                }\n                this.setState({\n                    files: t,\n                });\n            }\n        }\n        getUsers();\n        getUnapprovedFiles();\n    }\n\n    resolveFile = async (fileToApprove, approval) => {\n        const token = await authService.getAccessToken();\n        let formData = new FormData();\n        formData.append(\"fullPath\", fileToApprove);\n        formData.append(\"approval\", approval);\n        const response = await fetch('api/GreenWellFiles/ResolveApproval', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const json = await response.json();\n\n        this.setState(state => {\n            let newFiles = []\n            state.files.map((file) => {\n                if (file.key.fullPath !== fileToApprove) {\n                    newFiles.push(file)\n                }\n            })\n            state.files = newFiles;\n            state.showApproveModal = false;\n            state.showRejectModal = false;\n            return state\n        })\n    };\n\n    downloadFile = async (fileToDownload) => {\n        let fileName = fileToDownload.split(\"/\")[fileToDownload.split(\"/\").length - 1];\n        let formData = new FormData();\n        formData.append(\"filePath\", fileToDownload)\n        const token = await authService.getAccessToken();\n        const response = await fetch('api/GreenWellFiles/DownloadAFile', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n\n        const blob = await response.blob();\n        saveAs(blob, fileName);\n\n    }\n\n    deleteAUser = async (userToDelete) => {\n        const [user] = await Promise.all([authService.getUser()]);\n        const token = await authService.getAccessToken();\n        let formData = new FormData();\n        formData.append(\"currentUser\", user.name);\n        formData.append(\"userToDelete\", userToDelete);\n        const response = await fetch('api/AdminOnly/DeleteUser', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const json = await response.json();\n        this.setState({\n            adminUsers: json.adminUsers,\n            nonAdminUsers: json.nonAdminUsers,\n            showDeleteUserModal: false,\n            userInAction: null\n        });\n    };\n\n    makeUserAdmin = async (userToMakeAdmin) => {\n        const [user] = await Promise.all([authService.getUser()]);\n        const token = await authService.getAccessToken();\n        let formData = new FormData();\n        formData.append(\"currentUser\", user.name);\n        formData.append(\"userToMakeAdmin\", userToMakeAdmin);\n        const response = await fetch('api/AdminOnly/MakeUserAdmin', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const json = await response.json();\n        this.setState({\n            adminUsers: json.adminUsers,\n            nonAdminUsers: json.nonAdminUsers,\n            showMakeUserAdminModal: false,\n            userInAction: null\n        });\n    };\n\n    makeUserNonAdmin = async (userToMakeNonAdmin) => {\n        const [user] = await Promise.all([authService.getUser()]);\n        const token = await authService.getAccessToken();\n        let formData = new FormData();\n        formData.append(\"currentUser\", user.name);\n        formData.append(\"userToMakeNonAdmin\", userToMakeNonAdmin);\n        const response = await fetch('api/AdminOnly/MakeUserNonAdmin', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const json = await response.json();\n        this.setState({\n            adminUsers: json.adminUsers,\n            nonAdminUsers: json.nonAdminUsers,\n            showMakeAdminNonAdminModal: false,\n            userInAction: null\n        });\n    };\n\n    validateEmail = (email) => {\n        if (/^[a-zA-Z0-9!#$%&'*+-/=?^_`{|]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email))\n            return true;\n        return false;\n    }\n\n    validateUsername = (username) => {\n        if (/^[a-zA-Z0-9-._@+ ]+$/.test(username))\n            return true;\n        return false;\n\n    }\n\n    addUser = async (userToAdd, userName) => {\n        const [user] = await Promise.all([authService.getUser()]);\n        const token = await authService.getAccessToken();\n        let formData = new FormData();\n        formData.append(\"currentUser\", user.name);\n        formData.append(\"userEmail\", userToAdd);\n        formData.append(\"userName\", userName);\n        const response = await fetch('api/AdminOnly/AddUser', {\n            method: 'POST',\n            body: formData,\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const json = await response.json();\n        this.setState({\n            adminUsers: json.adminUsers,\n            nonAdminUsers: json.nonAdminUsers,\n            showMakeAdminNonAdminModal: false,\n            userInAction: null\n        });\n    };\n\n    render() {\n        let content = (\n            <div style={{ paddingLeft: \"40px\", marginTop: \"20px\" }}>\n                <h1>Loading</h1>\n                < FontAwesomeIcon className=\"fa-2x\" icon={faSpinner} pulse />\n            </div>\n        );\n        if (!this.state.loading) {\n            content = (\n                <React.Fragment>\n                    <Modal show={this.state.showDeleteUserModal} onHide={() => this.setState({ showDeleteUserModal: false, userInAction: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Confirm</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>Are you sure you want to delete this user?</p>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showDeleteUserModal: false, userInAction: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => this.deleteAUser(this.state.userInAction)} variant=\"primary\">Delete</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <Modal show={this.state.showMakeUserAdminModal} onHide={() => this.setState({ showMakeUserAdminModal: false, userInAction: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Confirm</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>Are you sure you want to make this user an Admin?</p>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showMakeUserAdminModal: false, userInAction: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => this.makeUserAdmin(this.state.userInAction)} variant=\"primary\">Make Admin</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <Modal show={this.state.showMakeAdminNonAdminModal} onHide={() => this.setState({ showMakeAdminNonAdminModal: false, userInAction: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Confirm</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>Are you sure you want to remove this user's Admin status?</p>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showMakeAdminNonAdminModal: false, userInAction: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => this.makeUserNonAdmin(this.state.userInAction)} variant=\"primary\">Make Non-Admin</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <Modal show={this.state.showAddUserModal} onHide={() => this.setState({ showAddUserModal: false, userInAction: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Add New User</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>The user will receive an email instructing them how to finish setting up their account.</p>\n                            <hr></hr>\n                            <div>\n                                <b>Name  </b>\n                                <br></br>\n                                <input type=\"name\" id=\"name\"></input>\n                            </div>\n                            <br></br>\n                            <div>\n                                <b>Email  </b>\n                                <br></br>\n                                <input type=\"email\" id=\"email\"></input>\n                            </div>\n                            <br></br><b id=\"error\" style={{ color: \"red\" }}></b>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showAddUserModal: false, userInAction: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => {\n                                if (this.validateEmail(document.getElementById('email').value)) {\n                                    if (this.validateUsername(document.getElementById('name').value)) {\n                                        document.getElementById('error').innerHTML = \"\";\n                                        this.addUser(document.getElementById('email').value, document.getElementById('name').value);\n                                        this.setState({ showAddUserModal: false, userInAction: null })\n                                    }\n                                    else {\n                                        document.getElementById('error').innerHTML = \"Invalid Name\";\n                                    }\n                                }\n                                else {\n                                    document.getElementById('error').innerHTML = \"Invalid Email\";\n                                }\n                            }\n                            } variant=\"primary\">Add</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                        <h3>Admin Actions</h3>\n                    </div>\n                    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                        <Table striped bordered hover style={{ width: \"85%\" }}>\n                            <thead>\n                                <tr>\n                                    <th>Actions</th>\n                                    <th>Name</th>\n                                    <th>Email</th>\n                                    <th>Role</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {(this.state.adminUsers.length == 0 && this.state.nonAdminUsers.length == 0) &&\n                                    <tr>\n                                        <th>No Users (Only one main current Admin User).</th>\n                                        <th>No Users (Only one main current Admin User).</th>\n                                        <th>No Users (Only one main current Admin User).</th>\n                                    </tr>\n                                }\n                                {this.state.adminUsers.length != 0 &&\n                                    this.state.adminUsers.map(adminUsers =>\n                                        <tr key={adminUsers.email}>\n                                            <td>{\n                                                <React.Fragment>\n                                                    <Link onClick={() => this.setState({ showDeleteUserModal: true, userInAction: adminUsers.email })}>\n                                                        <FontAwesomeIcon title=\"Delete User\" style={{ color: \"#73a353\" }} className=\"fa-2x\" icon={faTrash} />\n                                                    </Link>\n                                                    <Link onClick={() => this.setState({ showMakeAdminNonAdminModal: true, userInAction: adminUsers.email })}>\n                                                        <FontAwesomeIcon title=\"Remove Admin Role\" style={{ color: \"#73a353\", marginLeft: \"15px\" }} className=\"fa-2x\" icon={faLevelDownAlt} />\n                                                    </Link>\n                                                </React.Fragment>\n                                            }\n                                            </td>\n                                            <td>{adminUsers.userName}</td>\n                                            <td>{adminUsers.email}</td>\n                                            <td>Admin User</td>\n                                        </tr>\n                                    )\n                                }\n                                {this.state.nonAdminUsers.length != 0 &&\n                                    this.state.nonAdminUsers.map(nonAdminUsers =>\n                                        <tr key={nonAdminUsers.userName}>\n                                            <td>{\n                                                <React.Fragment>\n                                                    <Link onClick={() => this.setState({ showDeleteUserModal: true, userInAction: nonAdminUsers.email })}>\n                                                        <FontAwesomeIcon title=\"Delete User\" style={{ color: \"#73a353\" }} className=\"fa-2x\" icon={faTrash} />\n                                                    </Link>\n                                                    <Link onClick={() => this.setState({ showMakeUserAdminModal: true, userInAction: nonAdminUsers.email })}>\n                                                        <FontAwesomeIcon title=\"Make User Admin\" style={{ color: \"#73a353\", marginLeft: \"15px\" }} className=\"fa-2x\" icon={faLevelUpAlt} />\n                                                    </Link>\n                                                </React.Fragment>\n                                            }\n                                            </td>\n                                            <td>{nonAdminUsers.userName}</td>\n                                            <td>{nonAdminUsers.email}</td>\n                                            <td>Default User</td>\n                                        </tr>\n                                    )}\n                                <tr>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                </tr>\n                            </tbody>\n                        </Table>\n                    </div>\n                    <Link onClick={() => this.setState({ showAddUserModal: true })}>\n                        <FontAwesomeIcon title=\"Add New User\" style={{ color: \"#73a353\", marginLeft: \"8%\" }} className=\"fa-2x\" icon={faUserPlus} />\n                    </Link>\n\n\n\n\n                    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                        <h3>Approve Files</h3>\n                    </div>\n\n                    <Modal show={this.state.showApproveModal} onHide={() => this.setState({ showApproveModal: false, fileSelected: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Confirm</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>Are you sure you want to approve this file?</p>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showApproveModal: false, fileSelected: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => this.resolveFile(this.state.fileSelected, true)} variant=\"primary\">Approve</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <Modal show={this.state.showRejectModal} onHide={() => this.setState({ showRejectModal: false, fileSelected: null })}>\n                        <Modal.Header style={{ backgroundColor: \"whiteSmoke\" }} closeButton>\n                            <Modal.Title>Confirm</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <p>Are you sure you want to reject this file, it will be permenently deleted from the server.</p>\n                        </Modal.Body>\n                        <Modal.Footer style={{ backgroundColor: \"whiteSmoke\" }}>\n                            <Button onClick={() => this.setState({ showRejectModal: false, fileSelected: null })} variant=\"secondary\">Cancel</Button>\n                            <Button onClick={() => this.resolveFile(this.state.fileSelected, false)} variant=\"primary\">Reject</Button>\n                        </Modal.Footer>\n                    </Modal>\n\n\n                    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                        <Table striped bordered hover style={{ width: \"75%\" }}>\n                            <thead>\n                                <tr>\n                                    <th>Actions</th>\n                                    <th>Filename</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {(this.state.files.length == 0) &&\n                                    <tr>\n                                        <th>No files.</th>\n                                        <th>No files.</th>\n                                    </tr>\n                                }\n\n                                {this.state.files.length != 0 &&\n                                    this.state.files.map(file =>\n                                        <tr key={file.key.filename}>\n                                            <td>{\n                                                <React.Fragment>\n                                                    <Link onClick={() => this.setState({ showApproveModal: true, fileSelected: file.key.fullPath })}>\n                                                        <FontAwesomeIcon title=\"Approve File\" style={{ color: \"#73a353\" }} className=\"fa-2x\" icon={faCheck} />\n                                                    </Link>\n                                                    <Link onClick={() => this.setState({ showRejectModal: true, fileSelected: file.key.fullPath })}>\n                                                        <FontAwesomeIcon title=\"Reject File\" style={{ color: \"#73a353\", marginLeft: \"15px\" }} className=\"fa-2x\" icon={faTimes} />\n                                                    </Link>\n                                                    <Link onClick={() => this.downloadFile(file.key.fullPath)}>\n                                                        <FontAwesomeIcon title=\"Download File\" style={{ color: \"#73a353\", marginLeft: \"15px\" }} className=\"fa-2x\" icon={faFileDownload} />\n                                                    </Link>\n                                                </React.Fragment>\n                                            }\n                                            </td>\n                                            <td>{file.key.filename}</td>\n\n                                        </tr>\n                                    )\n                                }\n\n\n                                <tr>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                    <th style={{ borderSpacing: \"none\", border: \"none\" }}></th>\n                                </tr>\n                            </tbody>\n                        </Table>\n                    </div>\n                </React.Fragment>\n            );\n        }\n        return (\n            <div>\n                {content}\n            </div>\n        );\n    }\n}","import React from 'react'\nimport { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { ApplicationPaths, QueryParameterNames } from './ApiAuthorizationConstants'\nimport authService from './AuthorizeService'\n\n//Authorize route allows us to check if a user is authenticated before allowing them to acsess a resource.\nexport default class AuthorizeRoute extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ready: false,\n            authenticated: false\n        };\n    }\n\n    componentDidMount() {\n        this._subscription = authService.subscribe(() => this.authenticationChanged());\n        this.populateAuthenticationState();\n    }\n\n    componentWillUnmount() {\n        authService.unsubscribe(this._subscription);\n    }\n\n    //If they are authenticated we return a route to the indented resource, outherwise we redirect them\n    render() {\n        const { ready, authenticated } = this.state;\n        //Redirect to the login page as if you are not authenticated at all, you need to login.\n        const redirectUrl = `${ApplicationPaths.Login}?${QueryParameterNames.ReturnUrl}=${encodeURI(window.location.href)}`\n        if (!ready) {\n            return <div></div>;\n        } else {\n            const { component: Component, ...rest } = this.props;\n            return <Route {...rest}\n                render={(props) => {\n                    if (authenticated) {\n                        return <Component {...props} />\n                    } else {\n                        return <Redirect to={redirectUrl} />\n                    }\n                }} />\n        }\n    }\n\n    async populateAuthenticationState() {\n        const authenticated = await authService.isAuthenticated();\n        this.setState({ ready: true, authenticated });\n    }\n\n    async authenticationChanged() {\n        this.setState({ ready: false, authenticated: false });\n        await this.populateAuthenticationState();\n    }\n}\n","import React from 'react'\nimport { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { ApplicationPaths, QueryParameterNames } from './ApiAuthorizationConstants'\nimport authService from './AuthorizeService'\n\n//Authorize admin route allows us to prevent employee user from accessing admin only resources.\nexport default class AuthorizeAdminRoute extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ready: false,\n            authenticated: false,\n            admin: false\n        };\n    }\n\n    componentDidMount() {\n        this._subscription = authService.subscribe(() => this.authenticationChanged());\n        this.populateAuthenticationState();\n    }\n\n    componentWillUnmount() {\n        authService.unsubscribe(this._subscription);\n    }\n\n    //We check if they are logged in and an admin, if so we send them to the intended resource with a route\n    //If not show them a you are unauthorized message.\n    render() {\n        const { ready, authenticated, admin } = this.state;\n        if (!ready) {\n            return <div></div>;\n        } else {\n            const { component: Component, ...rest } = this.props;\n            return <Route {...rest}\n                render={(props) => {\n                    if (authenticated && admin) {\n                        return <Component {...props} />\n                    } else {\n                        return <div>You are unauthorized to access this page.</div>\n                    }\n                }} />\n        }\n    }\n\n    async populateAuthenticationState() {\n        const authenticated = await authService.isAuthenticated();\n        var admin = null;\n        const user = await authService.getUser();\n        if (user && user.role == \"Administrator\") \n            admin = true;\n        else \n            admin = false;\n        this.setState({ ready: true, authenticated, admin });\n    }\n\n    async authenticationChanged() {\n        this.setState({ ready: false, authenticated: false, admin: false });\n        await this.populateAuthenticationState();\n    }\n}\n","import React from 'react'\nimport { Component } from 'react';\nimport authService from './AuthorizeService';\nimport { AuthenticationResultStatus } from './AuthorizeService';\nimport { LoginActions, QueryParameterNames, ApplicationPaths } from './ApiAuthorizationConstants';\n\n// The main responsibility of this component is to handle the user's login process.\n// This is the starting point for the login process. Any component that needs to authenticate\n// a user can simply perform a redirect to this component with a returnUrl query parameter and\n// let the component perform the login and return back to the return url.\nexport class Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            message: undefined\n        };\n    }\n\n    componentDidMount() {\n        const action = this.props.action;\n        switch (action) {\n            case LoginActions.Login:\n                this.login(this.getReturnUrl());\n                break;\n            case LoginActions.LoginCallback:\n                this.processLoginCallback();\n                break;\n            case LoginActions.LoginFailed:\n                const params = new URLSearchParams(window.location.search);\n                const error = params.get(QueryParameterNames.Message);\n                this.setState({ message: error });\n                break;\n            case LoginActions.Profile:\n                this.redirectToProfile();\n                break;\n            default:\n                throw new Error(`Invalid action '${action}'`);\n        }\n    }\n\n    render() {\n        const action = this.props.action;\n        const { message } = this.state;\n\n        if (!!message) {\n            return <div>{message}</div>\n        } else {\n            switch (action) {\n                case LoginActions.Login:\n                    return (<div></div>);\n                case LoginActions.LoginCallback:\n                    return (<div></div>);\n                case LoginActions.Profile:\n                    return (<div></div>);\n                default:\n                    throw new Error(`Invalid action '${action}'`);\n            }\n        }\n    }\n\n    async login(returnUrl) {\n        const state = { returnUrl };\n        const result = await authService.signIn(state);\n        switch (result.status) {\n            case AuthenticationResultStatus.Redirect:\n                break;\n            case AuthenticationResultStatus.Success:\n                await this.navigateToReturnUrl(returnUrl);\n                break;\n            case AuthenticationResultStatus.Fail:\n                this.setState({ message: result.message });\n                break;\n            default:\n                throw new Error(`Invalid status result ${result.status}.`);\n        }\n    }\n\n    async processLoginCallback() {\n        const url = window.location.href;\n        const result = await authService.completeSignIn(url);\n        switch (result.status) {\n            case AuthenticationResultStatus.Redirect:\n                // There should not be any redirects as the only time completeSignIn finishes\n                // is when we are doing a redirect sign in flow.\n                throw new Error('Should not redirect.');\n            case AuthenticationResultStatus.Success:\n                await this.navigateToReturnUrl(ApplicationPaths.DefaultLoginRedirectPath);\n                break;\n            case AuthenticationResultStatus.Fail:\n                this.setState({ message: result.message });\n                break;\n            default:\n                throw new Error(`Invalid authentication result status '${result.status}'.`);\n        }\n    }\n\n    getReturnUrl(state) {\n        const params = new URLSearchParams(window.location.search);\n        const fromQuery = params.get(QueryParameterNames.ReturnUrl);\n        if (fromQuery && !fromQuery.startsWith(`${window.location.origin}/`)) {\n            // This is an extra check to prevent open redirects.\n            throw new Error(\"Invalid return url. The return url needs to have the same origin as the current page.\")\n        }\n        return (state && state.returnUrl) || fromQuery || `${window.location.origin}/`;\n    }\n\n\n\n    redirectToProfile() {\n        this.redirectToApiAuthorizationPath(ApplicationPaths.IdentityManagePath);\n    }\n\n    redirectToApiAuthorizationPath(apiAuthorizationPath) {\n        const redirectUrl = `${window.location.origin}${apiAuthorizationPath}`;\n        // It's important that we do a replace here so that when the user hits the back arrow on the\n        // browser he gets sent back to where it was on the app instead of to an endpoint on this\n        // component.\n        window.location.replace(redirectUrl);\n    }\n\n    navigateToReturnUrl(returnUrl) {\n        // It's important that we do a replace here so that we remove the callback uri with the\n        // fragment containing the tokens from the browser history.\n        window.location.replace(returnUrl);\n    }\n}\n","import React from 'react'\nimport { Component } from 'react';\nimport authService from './AuthorizeService';\nimport { AuthenticationResultStatus } from './AuthorizeService';\nimport { QueryParameterNames, LogoutActions, ApplicationPaths } from './ApiAuthorizationConstants';\n\n// The main responsibility of this component is to handle the user's logout process.\n// This is the starting point for the logout process, which is usually initiated when a\n// user clicks on the logout button on the LoginMenu component.\nexport class Logout extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            message: undefined,\n            isReady: false,\n            authenticated: false\n        };\n    }\n\n    componentDidMount() {\n        const action = this.props.action;\n        switch (action) {\n            case LogoutActions.Logout:\n                if (!!window.history.state.state.local) {\n                    this.logout(this.getReturnUrl());\n                } else {\n                    // This prevents regular links to <app>/authentication/logout from triggering a logout\n                    this.setState({ isReady: true, message: \"The logout was not initiated from within the page.\" });\n                }\n                break;\n            case LogoutActions.LogoutCallback:\n                this.processLogoutCallback();\n                break;\n            case LogoutActions.LoggedOut:\n                this.setState({ isReady: true, message: \"You successfully logged out!\" });\n                break;\n            default:\n                throw new Error(`Invalid action '${action}'`);\n        }\n\n        this.populateAuthenticationState();\n    }\n\n    render() {\n        const { isReady, message } = this.state;\n        if (!isReady) {\n            return <div></div>\n        }\n        if (!!message) {\n            return (<div>{message}</div>);\n        } else {\n            const action = this.props.action;\n            switch (action) {\n                case LogoutActions.Logout:\n                    return (<div>Processing logout</div>);\n                case LogoutActions.LogoutCallback:\n                    return (<div>Processing logout callback</div>);\n                case LogoutActions.LoggedOut:\n                    return (<div>{message}</div>);\n                default:\n                    throw new Error(`Invalid action '${action}'`);\n            }\n        }\n    }\n\n    async logout(returnUrl) {\n        const state = { returnUrl };\n        const isauthenticated = await authService.isAuthenticated();\n        if (isauthenticated) {\n            const result = await authService.signOut(state);\n            switch (result.status) {\n                case AuthenticationResultStatus.Redirect:\n                    break;\n                case AuthenticationResultStatus.Success:\n                    await this.navigateToReturnUrl(returnUrl);\n                    break;\n                case AuthenticationResultStatus.Fail:\n                    this.setState({ message: result.message });\n                    break;\n                default:\n                    throw new Error(\"Invalid authentication result status.\");\n            }\n        } else {\n            this.setState({ message: \"You successfully logged out!\" });\n        }\n    }\n\n    async processLogoutCallback() {\n        const url = window.location.href;\n        const result = await authService.completeSignOut(url);\n        switch (result.status) {\n            case AuthenticationResultStatus.Redirect:\n                // There should not be any redirects as the only time completeAuthentication finishes\n                // is when we are doing a redirect sign in flow.\n                throw new Error('Should not redirect.');\n            case AuthenticationResultStatus.Success:\n                await this.navigateToReturnUrl(this.getReturnUrl(result.state));\n                break;\n            case AuthenticationResultStatus.Fail:\n                this.setState({ message: result.message });\n                break;\n            default:\n                throw new Error(\"Invalid authentication result status.\");\n        }\n    }\n\n    async populateAuthenticationState() {\n        const authenticated = await authService.isAuthenticated();\n        this.setState({ isReady: true, authenticated });\n    }\n\n    getReturnUrl(state) {\n        const params = new URLSearchParams(window.location.search);\n        const fromQuery = params.get(QueryParameterNames.ReturnUrl);\n        if (fromQuery && !fromQuery.startsWith(`${window.location.origin}/`)) {\n            // This is an extra check to prevent open redirects.\n            throw new Error(\"Invalid return url. The return url needs to have the same origin as the current page.\")\n        }\n        return (state && state.returnUrl) ||\n            fromQuery ||\n            `${window.location.origin}${ApplicationPaths.LoggedOut}`;\n    }\n\n    navigateToReturnUrl(returnUrl) {\n        return window.location.replace(returnUrl);\n    }\n}\n","import React, { Component, Fragment } from 'react';\nimport { Route } from 'react-router';\nimport { Login } from './Login'\nimport { Logout } from './Logout'\nimport { ApplicationPaths, LoginActions, LogoutActions } from './ApiAuthorizationConstants';\n\nexport default class ApiAuthorizationRoutes extends Component {\n\n  render () {\n    return(\n      <Fragment>\n          <Route path={ApplicationPaths.Login} render={() => loginAction(LoginActions.Login)} />\n          <Route path={ApplicationPaths.LoginFailed} render={() => loginAction(LoginActions.LoginFailed)} />\n          <Route path={ApplicationPaths.LoginCallback} render={() => loginAction(LoginActions.LoginCallback)} />\n          <Route path={ApplicationPaths.Profile} render={() => loginAction(LoginActions.Profile)} />\n          <Route path={ApplicationPaths.LogOut} render={() => logoutAction(LogoutActions.Logout)} />\n          <Route path={ApplicationPaths.LogOutCallback} render={() => logoutAction(LogoutActions.LogoutCallback)} />\n          <Route path={ApplicationPaths.LoggedOut} render={() => logoutAction(LogoutActions.LoggedOut)} />\n      </Fragment>);\n  }\n}\n\nfunction loginAction(name){\n    return (<Login action={name}></Login>);\n}\n\nfunction logoutAction(name) {\n    return (<Logout action={name}></Logout>);\n}\n","import React, { Component } from 'react';\nimport { Route } from 'react-router';\nimport { Layout } from './components/Layout';\nimport { Home } from './components/Home';\nimport { AdminOnly } from './components/AdminOnly';\nimport AuthorizeRoute from './components/api-authorization/AuthorizeRoute';\nimport AuthorizeAdminRoute from './components/api-authorization/AuthorizeAdminRoute';\nimport ApiAuthorizationRoutes from './components/api-authorization/ApiAuthorizationRoutes';\nimport { ApplicationPaths } from './components/api-authorization/ApiAuthorizationConstants';\n\nimport './custom.css'\n\nexport default class App extends Component {\n  static displayName = App.name;\n\n  render () {\n    return (\n        <Layout>\n            {/*Switching to AuthorizeRoute like before forces the user to login before they see the homepage, \n             * however for testing of the homepage it can be tedious to login every time so for now it will remain an UnauthorizedRoute\n             * <AuthorizeRoute exact path='/' component={Home} />*/}\n            \n            <AuthorizeRoute exact path='/' component={Home} />\n            <AuthorizeAdminRoute exact path='/Admin/Manage' component={AdminOnly} />\n        \n        <Route path={ApplicationPaths.ApiAuthorizationPrefix} component={ApiAuthorizationRoutes} />\n      </Layout>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport default function register () {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW (swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker (swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport './custom.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nconst baseUrl = document.getElementsByTagName('base')[0].getAttribute('href');\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(\n  <BrowserRouter basename={baseUrl}>\n    <App />\n  </BrowserRouter>,\n  rootElement);\n\nregisterServiceWorker();\n\n"],"sourceRoot":""}